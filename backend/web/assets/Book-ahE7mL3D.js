import{r as m,u as E,o as U,a as v,w as D,b as s,c as L,d as M,e as f,f as o,g as t,F as N,h as i,t as S,i as j,E as F,j as w}from"./index-c37oU-Y1.js";const T={style:{"border-bottom":"solid 1px rgb(240, 242, 245)","padding-bottom":"3px"}},q={class:"example-pagination-block"},R={__name:"Book",setup(A){const b=j(),g=m([]),c=m(0),p=m("");E();let d="/v1/learn/book/index?";U(()=>{u(1)});function u(e){let l=d.includes("=")?d+"&page="+e:d+"page="+e;v({url:l},function(a){a.code==0?(g.value=a.data,c.value=a.pagination.total):console.log(a.message)})}function x(e){console.log(e),b.push({name:"book-update",params:{id:e}})}function C(e){F.confirm("你确定要删除吗？","Warning",{title:"提示",message:"确定删除吗？",type:"warning"}).then(()=>{y(e)}).catch(()=>{w("已取消删除")})}function y(e){v({url:"/v1/learn/book/delete?id="+e,method:"delete"},function(l){l.data.status==200&&l.data.code==0&&u(1),w(l.data.message)})}function B(e){console.log(e),b.push({name:"lesson",params:{book_id:e}})}return D(p,e=>{e!=""?d="/v1/learn/book/index?search="+e:d="/v1/learn/book/index?",u(1)}),(e,l)=>{const a=s("el-button"),_=s("el-col"),V=s("el-input"),k=s("el-row"),r=s("el-table-column"),z=s("el-table"),$=s("el-pagination");return L(),M(N,null,[f("div",T,[o(k,null,{default:t(()=>[o(_,{span:16},{default:t(()=>[i(" Book "),o(a,{plain:"",onClick:l[0]||(l[0]=n=>e.$router.push("/book/create"))},{default:t(()=>[i("Create")]),_:1})]),_:1}),o(_,{span:8},{default:t(()=>[o(V,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=n=>p.value=n),placeholder:"book name",style:{width:"70%"}},null,8,["modelValue"])]),_:1})]),_:1}),o(k,null,{default:t(()=>[o(_,{span:24,style:{"font-size":"14px"}},{default:t(()=>[i("All"),f("span",null," ("+S(c.value)+")",1)]),_:1})]),_:1})]),o(z,{data:g.value,border:"",style:{width:"100%"}},{default:t(()=>[o(r,{prop:"id",label:"ID","min-width":"10%"}),o(r,{prop:"book_name",label:"课本名称","min-width":"20%"}),o(r,{prop:"grade",label:"班级","min-width":"20%"}),o(r,{label:"课程","min-width":"15%"},{default:t(n=>[o(a,{size:"small",onClick:h=>B(n.row.id)},{default:t(()=>[i("查看课程")]),_:2},1032,["onClick"])]),_:1}),o(r,{fixed:"right",label:"操作","min-width":"15%"},{default:t(n=>[o(a,{size:"small",onClick:h=>x(n.row.id)},{default:t(()=>[i("编辑")]),_:2},1032,["onClick"]),o(a,{type:"danger",size:"small",onClick:h=>C(n.row.id)},{default:t(()=>[i("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),f("div",q,[o($,{background:"",onSizeChange:u,onCurrentChange:u,layout:"prev, pager, next  jumper",total:c.value},null,8,["total"])])],64)}}};export{R as default};
