import{j as d,o as z,a as s,b as u,h as V,w as l,g as N,d as i,f as c,t as g,k as R,c as p,e as F,F as I,n as L,u as U}from"./index-P32P-s7l.js";import{a as j}from"./axios-Bo0ATomq.js";const D=c("span",{class:"text-large font-600 mr-3"},null,-1),E={style:{padding:"20px 0","text-align":"center","line-height":"36px",color:"#000"}},M={class:"lesson-content",style:{"font-size":"23px",color:"#000"}},G={__name:"Lesson",setup(P){const h=U(),m=N(),t=d({lesson_content:"",lesson_name:"",create_at:"",lesson_image:""}),_=d({backgroundImage:"",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",fontSize:"20px",height:"100%"});function f(e){j({method:"get",url:"/api/lesson/view?id="+e}).then(function(n){console.log(n.data),t.lesson_content=n.data.data.lesson_content,t.lesson_name=n.data.data.lesson_name,t.lesson_image=n.data.data.lesson_image,_.backgroundImage="url("+n.data.data.lesson_image+")",console.log(_)}).catch(function(n){console.log(n)})}let r=!0,o=null,a=null;function k(e){r?(o=window.speechSynthesis,a=new SpeechSynthesisUtterance(t.lesson_content),a.onend=function(){r=!0,e.target.innerText="语音播放"},o.speak(a),r=!1,e.target.innerText="停止语音"):(o.cancel(),r=!0,e.target.innerText="语音播放")}function x(e){o=window.speechSynthesis,a=new SpeechSynthesisUtterance(e.target.innerText),o.speak(a)}function S(){h.back()}return z(()=>{f(m.params.id)}),(e,n)=>{const y=s("el-page-header"),b=s("el-header"),w=s("el-button"),B=s("el-main"),T=s("el-container");return u(),V(T,null,{default:l(()=>[i(b,null,{default:l(()=>[i(y,{onBack:S,style:{background:"#f89898",color:"#fff"}},{content:l(()=>[D]),_:1})]),_:1}),i(B,null,{default:l(()=>[c("div",{style:L(_)},[c("div",E,[c("h3",null,g(t.lesson_name),1),i(w,{onClick:k},{default:l(()=>[R("语音播放")]),_:1})]),c("div",M,[(u(!0),p(I,null,F(t.lesson_content,(v,C)=>(u(),p("span",{onClick:x,key:C},g(v),1))),128))])],4)]),_:1})]),_:1})}}};export{G as default};
