import{a as f}from"./axios-Bo0ATomq.js";import{r as g,o as B,i as C,a as t,b as c,h,w as a,g as V,d as n,f as s,t as k,c as D,e as F,F as L,u as N}from"./index-P32P-s7l.js";const R={style:{height:"36px","line-height":"36px","text-align":"center",background:"#f89898",color:"#fff"}},E={class:"clearfix"},j={__name:"Grade",setup(G){const x=N(),l=V(),r=g(""),d=g([]);function u(){f({method:"get",url:"/api/book/index?grade_id="+l.params.gradeId}).then(function(e){console.log(e.data),d.value=e.data.data}).catch(function(e){console.log(e)})}function i(e){f({method:"get",url:"/api/grade/detail?id="+e}).then(function(o){console.log(o.data),r.value=o.data.data.grade_name}).catch(function(o){console.log(o)})}function v(e){console.log(e),x.push({name:"book",params:{bookId:e}})}return B(()=>{i(l.params.gradeId),u()}),C(()=>l.params.gradeId,async e=>{i(l.params.gradeId),u()}),(e,o)=>{const _=t("el-col"),m=t("el-row"),w=t("el-card"),b=t("el-main"),I=t("el-container");return c(),h(I,null,{default:a(()=>[n(b,null,{default:a(()=>[n(m,null,{default:a(()=>[n(_,{span:24},{default:a(()=>[s("div",R,k(r.value)+" / 所有课本 ",1)]),_:1})]),_:1}),n(m,null,{default:a(()=>[(c(!0),D(L,null,F(d.value,(p,y)=>(c(),h(_,{span:24,key:y},{default:a(()=>[n(w,{shadow:"hover",onClick:M=>v(p.id),style:{margin:"4px"}},{default:a(()=>[s("div",E,[s("span",null,k(p.book_name),1)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}};export{j as default};
